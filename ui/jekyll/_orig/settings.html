---
layout: default
---
<ul class="nav nav-tabs">
  <li class="active"><a href="#basic" data-toggle="tab">{%t Basic Settings %}</a></li>
  <li><a href="#advanced" data-toggle="tab">{%t Advanced Settings %}</a></li>
  <li><a href="#server" data-toggle="tab">{%t Server %}</a></li>
  <li><a href="#network" data-toggle="tab">{%t Network %}</a></li>
  <li><a href="#filters" data-toggle="tab">{%t Filters %}</a></li>
  <li><a href="#security" data-toggle="tab">{%t Security %}</a></li>
  <li><a href="#authentication" data-toggle="tab">{%t Authentication %}</a></li>
  <li><a href="#log" data-toggle="tab">{%t Log %}</a></li>
  {@if servMgr.isRoot}
  <li><a href="#root" data-toggle="tab">{%t Root Mode %}</a></li>
  {@else}
  <li class=disabled><a href="#root">{%t Root Mode %}</a></li>
  {@end}
</ul>

<!- ******************************************************** ->

<div class="form-group">
  <FORM action="/admin" method=get>
    <INPUT type=hidden value=apply name=cmd>

    <div class="tab-content" style="width: 50%; margin: 1em auto 1em auto; min-height: 16em;">

      <div class="tab-pane active" id="basic">
        <table class="infotable form">
          <caption>
            {%t Basic Settings %}
          </caption>
          <tbody>

            <TR>
              <TH>{%t Port %}</TH>
              <TD>
                <INPUT type=number min="0" max="65535" value="{$servMgr.serverPort1}" name=port>
              </TD>
            </TR>

            <TR>
              <TH>{%t Password %}</TH>
              <TD>
                <INPUT name=passnew type=password size="10" maxlength="32" {@if servMgr.password}value={$servMgr.password}{@end}>
              </TD>
            </TR>

            <TR>
              <TH>{%t Max_ Relays %}</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.maxRelays} name=maxrelays>
              </TD>
            </TR>

            <TR>
              <TH>{%t Max_ Direct %}</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.maxDirect} name=maxdirect>
              </TD>
            </TR>

            <TR>
              <TH>{%t Language %}</TH>
              <TD>
                <!-- current language must be selected -->
                <select name="htmlPath" id="htmlPath">
                  <option value="en">{%t English %}</option>
                  <option value="fr">{%t French %}</option>
                  <option value="de">{%t German %}</option>
                  <option value="ja" selected>{%t Japanese %}</option>
                </select>
              </TD>
            </TR>
          </tbody>
        </table>
      </div>

      <div class="tab-pane" id="advanced">
        <table class="infotable form">
          <caption>
            {%t Advanced Settings %}
          </caption>
          <tbody>
            <TR>
              <TH>{%t autoRelayKeep %}</TH>
              <TD>
                <select name=autoRelayKeep>
                  <option value=0 {@if servMgr.autoRelayKeep.0}SELECTED{@end}>{%t Disabled %}</option>
                  <option value=1 {@if servMgr.autoRelayKeep.1}SELECTED{@end}>{%t Enabled %}</option>
                  <option value=2 {@if servMgr.autoRelayKeep.2}SELECTED{@end}>{%t Enabled %} ({%t until no relays %})</option>
                </select>
              </TD>
            </TR>

            <TR>
              <TH>{%t autoMaxRelaySetting %}</TH>
              <TD>
                <INPUT type=number min=0 name=autoMaxRelaySetting maxlength="3" value={$servMgr.autoMaxRelaySetting}>
              </TD>
            </TR>

            <TR>
              <TH>{%t autoBumpSkipCount %}</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.autoBumpSkipCount} name=autoBumpSkipCount>
              </TD>
            </TR>

            <TR>
              <TH>{%t kickPushStartRelays %}</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.kickPushStartRelays} name=kickPushStartRelays>
              </TD>
            </TR>

            <TR>
              <TH>{%t kickPushInterval %}</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.kickPushInterval} name=kickPushInterval>
              </TD>
            </TR>

            <TR>
              <TH>{%t allowConnectPCST %}</TH>
              <TD>
                <INPUT type=checkbox value=1 name=allowConnectPCST {@if servMgr.allowConnectPCST}CHECKED{@end} >
              </TD>
            </TR>

            <TR>
              <TH>{%t enableGetName %}</TH>
              <TD>
                <INPUT type=checkbox value=1 name=enableGetName {@if servMgr.enableGetName}CHECKED{@end}>
              </TD>
            </TR>

            <TR>
              <TH>{%t autoPort0Kick %}</TH>
              <TD>
                <select name=autoPort0Kick>
                  <option value=0 {@if servMgr.autoPort0Kick.0}SELECTED{@end}>{%t Disabled %}</option>
                  <option value=1 {@if servMgr.autoPort0Kick.1}SELECTED{@end}>{%t Enabled %}</option>
                </select>
              </TD>
            </TR>

            <TR>
              <TH>{%t allowOnlyVP %}</TH>
              <TD>
                <select name=allowOnlyVP>
                  <option value=0 {@if servMgr.allowOnlyVP.0}SELECTED{@end}>{%t Disabled %}</option>
                  <option value=1 {@if servMgr.allowOnlyVP.1}SELECTED{@end}>{%t Enabled %}</option>
                </select>
              </TD>
            </TR>

            <TR>
              <TH>{%t kickKeepTime %}</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.kickKeepTime} name=kickKeepTime>
              </TD>
            </TR>

            <TR>
              <TH>{%t maxRelaysIndexTxt %}</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.maxRelaysIndexTxt} name=maxRelaysIndexTxt>
              </TD>
            </TR>

            <TR>
              <TH>{%t disableAutoBumpIfDirect %}</TH>
              <TD>
                <INPUT type=checkbox value=1 name=disableAutoBumpIfDirect {@if servMgr.disableAutoBumpIfDirect}CHECKED{@end}>
              </TD>
            </TR>

            <TR>
              <TH>{%t asxDetailedMode %}</TH>
              <TD>
                <select name=asxDetailedMode>
                  <option value=0 {@if servMgr.asxDetailedMode.0}SELECTED{@end}>{%t Disabled %}</option>
                  <option value=1 {@if servMgr.asxDetailedMode.1}SELECTED{@end}>Shift-JIS</option>
                  <option value=2 {@if servMgr.asxDetailedMode.2}SELECTED{@end}>UTF-8</option>
                </select>
              </TD>
            </TR>
          </tbody>
        </table>
      </div>

      <div class="tab-pane" id="server">
        <TABLE class="infotable form">
          <caption>
            {%t Server %}
          </caption>
          <TBODY>

            <TR>
              <TH>{%t DJ Message %}</TH>
              <TD>
                <INPUT {@if chanMgr.djMessage}value="{$chanMgr.djMessage}"{@end} name=djmsg>
              </TD>
            </TR>
            <TR>
              <TH>{%t ICY MetaInterval %}</TH>
              <TD>
                <INPUT type=number value={$chanMgr.icyMetaInterval} name=icymeta>
              </TD>
            </TR>
            <TR>
              <TH>{%t Mode %}</TH>
              <TD>
                <INPUT type=radio {@if !servMgr.isRoot}CHECKED{@end} value=0 name=root id="mode_normal">
                <label class=italicized for="mode_normal">Normal</label>
                <BR>
                <INPUT type=radio {@if servMgr.isRoot}CHECKED{@end} value=1 name=root id="mode_root">
                <label class=italicized for="mode_root">Root</label> </TD>
            </TR>
            <TR>
              <TH>{%t Refresh HTML (sec) %}</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.refreshHTML} name=refresh> </TD>
            </TR>
          </TBODY>
        </TABLE>
      </div>

      <div class="tab-pane" id="network">
        <TABLE class="infotable form">
          <caption>
            {%t Network %}
          </caption>
          <TBODY>
            <TR>
              <TH>{%t YP Address 1 %}</TH>
              <TD>
                <input {@if servMgr.ypAddress}value={$servMgr.ypAddress}{@end} name=yp>
              </TD>
            </TR>
            <TR>
              <TH>{%t YP Address 2 %}</TH>
              <TD>
                <input {@if servMgr.ypAddress2}value={$servMgr.ypAddress2}{@end} name=yp2>
              </TD>
            </TR>
            <TR>
              <TH>{%t Max_ Output %} (Kbits/s)</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.maxBitrateOut} name=maxup>
              </TD>
            </TR>
            <TR>
              <TH>{%t Max_ Relays Per Channel %}</TH>
              <TD>
                <INPUT type=number min=0 value={$chanMgr.maxRelaysPerChannel} name=maxrelaypc>
              </TD>
            </TR>
            <TR>
              <TH>{%t Max_ Controls In %}</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.maxControlsIn} name=maxcin>
              </TD>
            </TR>
            <TR>
              <TH>{%t Max_ Connections In %}</TH>
              <TD>
                <INPUT name=maxsin id="maxsin" value={$servMgr.maxServIn} type=number min=0>
              </TD>
            </TR>
          </TBODY>
        </TABLE>
      </div>

      <div class="tab-pane" id="filters">
        <TABLE class="infotable form">
          <caption>
            {%t Filters %}
          </caption>
          <TBODY>
            <TR>
              <TH>
                {%t IP Mask %}
              </TH>
              <TH>
                {%t Network %}
              </TH>
              <TH>
                {%t Direct %}
              </TH>
              <TH>
                {%t Private %}
              </TH>
              <TH>
                {%t Ban %}
              </TH>
            </TR>
            {@loop servMgr.numFilters}
            <TR>
              <TD>
                <INPUT value={$loop.filter.ip} name=filt_ip>
              </TD>
              <TD class=centered>
                <INPUT type=checkbox {@if loop.filter.network}CHECKED{@end} value=1 name=filt_nw{$loop.index}>
              </TD>
              <TD class=centered>
                <INPUT type=checkbox {@if loop.filter.direct}CHECKED{@end} value=1 name=filt_di{$loop.index}>
              </TD>
              <TD class=centered>
                <INPUT type=checkbox {@if loop.filter.private}CHECKED{@end} value=1 name=filt_pr{$loop.index}>
              </TD>
              <TD class=centered>
                <INPUT type=checkbox {@if loop.filter.banned}CHECKED{@end} value=1 name=filt_bn{$loop.index}>
              </TD>
            </TR>
            {@end}
        </TABLE>
      </div>

      <div class="tab-pane" id="security">
        <TABLE class="infotable form">
          <caption>
            {%t Security %}
          </caption>
          <TBODY>
            <TR>
              <TH>
                {%t Allow on port %}: 
              </TH>
              <TH>
                {$servMgr.serverPort1}
              </TH>
              <TH>
                {$servMgr.serverPort2}
              </TH>
            </TR>
            <TR>
              <TH>HTML</TH>
              <TD class=centered>
                <INPUT type=checkbox {@if servMgr.allow.HTML1}CHECKED{@end} value=1 name=allowHTML1>
              </TD>
              <Td class=centered>
                <INPUT type=checkbox {@if servMgr.allow.HTML2}CHECKED{@end} value=1 name=allowHTML2>
              </Td>
            </TR>
            <TR>
              <TH>{%t Broadcasting %}</TH>
              <TD class=centered>
                <INPUT type=checkbox {@if servMgr.allow.broadcasting1}CHECKED{@end} value=1 name=allowBroadcast1>
              </TD>
              <TD class=centered>
                <INPUT type=checkbox {@if servMgr.allow.broadcasting2}CHECKED{@end} value=1 name=allowBroadcast2>
              </TD>
            </TR>
            <TR>
              <TH>{%t Network %}</TH>
              <TD class=centered>
                <INPUT type=checkbox {@if servMgr.allow.network1}CHECKED{@end} value=1 name=allowNetwork1>
              </TD>
              <TD>
              </TD>
            </TR>
            <TR>
              <TH>{%t Direct %}</TH>
              <TD class=centered>
                <INPUT type=checkbox {@if servMgr.allow.direct1}CHECKED{@end} value=1 name=allowDirect1>
              </TD>
              <TD>
              </TD>
            </TR>
          </TBODY>
        </TABLE>
      </div>

      <div class="tab-pane" id="authentication">
        <TABLE class="infotable form">
          <TBODY>
            <caption>
              {%t Authentication %}
            </caption>
            <TR>
              <TH>{%t HTML Authentication %}</TH>
              <TD>
                <INPUT type=radio {@if servMgr.auth.useCookies}CHECKED{@end} value=cookie name=auth>
                <I>{%t Cookies %}<BR>
                </I> <INPUT type=radio {@if servMgr.auth.useHTTP}CHECKED{@end} value=http name=auth>
                <I>{%t Basic HTTP %}</I> </TD>
            </TR>
            <TR>
              <TH>{%t Cookie Expire %}</TH>
              <TD>
                <INPUT type=radio {@if servMgr.auth.useSessionCookies}CHECKED{@end} value=session name=expire>
                <I>{%t End of session %}<BR>
                </I> <INPUT type=radio {@if !servMgr.auth.useSessionCookies}CHECKED{@end} value=never name=expire>
                <I>{%t Never %}</I> </TD>
            </TR>
          </TBODY>
        </TABLE>
      </div>

      <div class="tab-pane" id="log">
        <TABLE class="infotable form">
          <caption>
            {%t Log %}
          </caption>
          <TBODY>
            <TR>
              <TH width="50%">{%t Debug %}</TH>
              <TD>
                <INPUT type=checkbox {@if servMgr.log.debug}CHECKED{@end} value=1 name=logDebug>
              </TD>
            </TR>
            <TR>
              <TH>{%t Errors %}</TH>
              <TD>
                <INPUT type=checkbox {@if servMgr.log.errors}CHECKED{@end} value=1 name=logErrors>
              </TD>
            </TR>
            <TR>
              <TH>{%t Network %}</TH>
              <TD>
                <INPUT type=checkbox {@if servMgr.log.gnet}CHECKED{@end} value=1 name=logNetwork>
              </TD>
            </TR>
            <TR>
              <TH>{%t Channels %}</TH>
              <TD>
                <INPUT type=checkbox {@if servMgr.log.channel}CHECKED{@end} value=1 name=logChannel>
              </TD>
            </TR>
          </TBODY>
        </TABLE>
      </div>

      <div class="tab-pane" id="root">
        {@if servMgr.isRoot}
        <TABLE class="infotable form">
          <caption>
            {%t Root Mode %}
          </caption>
          <TBODY>

            <TR>
              <TH>{%t Host Update (sec) %}</TH>
              <TD>
                <INPUT type=number min=0 {@if chanMgr.hostUpdateInterval}value={$chanMgr.hostUpdateInterval}{@end} name=huint>
              </TD>
            </TR>
            <TR>
              <TH>{%t Message %}</TH>
              <TD>
                <INPUT size=30 {@if servMgr.rootMsg}value={$servMgr.rootMsg}{@end} name=pcmsg>
              </TD>
            </TR>
            <TR>
              <TH>{%t Get Update %}</TH>
              <TD>
                <INPUT type=checkbox value=1 name=getupd>
              </TD>
            </TR>
            <TR>
              <TH>{%t Send %}</TH>
              <TD>
                <INPUT type=checkbox value=1 name=brroot>
              </TD>
            </TR>
	        <TR>
              <TH>Min. PGNU In</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.minPGNUIn} name=minpgnu>
              </TD>
            </TR>
            <TR>
              <TH>Max. PGNU In</TH>
              <TD>
                <INPUT type=number min=0 value={$servMgr.maxPGNUIn} name=maxpgnu>
              </TD>
            </TR>
            <TR>
              <TH>Broadcast IDs</TH>
              <TD>
                <a href="bcid.html" class="btn btn-sm btn-default">
                  <span class="glyphicon glyphicon-folder-open"></span>
                  {%t View %}
                </a>
              </TD>
            </TR>
          </TBODY>
        </TABLE>

        {@end}
      </div>
    </div>
    <div class="centered"><INPUT type=submit class="btn btn-primary" value="{%t Save Settings %}" name=submit></div>
  </FORM>
</div>
